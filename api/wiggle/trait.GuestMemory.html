<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait which abstracts how to get at the region of host memory that contains guest memory."><title>GuestMemory in wiggle - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-a23c9d150ad85d8b.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="wiggle" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.0-nightly (6162f6f12 2023-07-01)" data-channel="nightly" data-search-js="search-91b58767224854cb.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../wiggle/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../wiggle/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">GuestMemory</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.base">base</a></li><li><a href="#tymethod.has_outstanding_borrows">has_outstanding_borrows</a></li><li><a href="#tymethod.is_mut_borrowed">is_mut_borrowed</a></li><li><a href="#tymethod.is_shared_borrowed">is_shared_borrowed</a></li><li><a href="#tymethod.mut_borrow">mut_borrow</a></li><li><a href="#tymethod.mut_unborrow">mut_unborrow</a></li><li><a href="#tymethod.shared_borrow">shared_borrow</a></li><li><a href="#tymethod.shared_unborrow">shared_unborrow</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.is_shared_memory">is_shared_memory</a></li><li><a href="#method.ptr">ptr</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-GuestMemory-for-%26'a+T">&amp;&#x27;a T</a></li><li><a href="#impl-GuestMemory-for-%26'a+mut+T">&amp;&#x27;a mut T</a></li><li><a href="#impl-GuestMemory-for-Arc%3CT%3E">Arc&lt;T&gt;</a></li><li><a href="#impl-GuestMemory-for-Box%3CT%3E">Box&lt;T&gt;</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In wiggle</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">wiggle</a>::<wbr><a class="trait" href="#">GuestMemory</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/wiggle/lib.rs.html#91-154">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe trait GuestMemory: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> {
    // Required methods
    fn <a href="#tymethod.base" class="fn">base</a>(&amp;self) -&gt; &amp;[<a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell">UnsafeCell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;];
<span class="item-spacer"></span>    fn <a href="#tymethod.has_outstanding_borrows" class="fn">has_outstanding_borrows</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.is_mut_borrowed" class="fn">is_mut_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.is_shared_borrowed" class="fn">is_shared_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.mut_borrow" class="fn">mut_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.shared_borrow" class="fn">shared_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.mut_unborrow" class="fn">mut_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.shared_unborrow" class="fn">shared_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>);

    // Provided methods
    fn <a href="#method.ptr" class="fn">ptr</a>&lt;'a, T&gt;(&amp;'a self, offset: T::<a class="associatedtype" href="trait.Pointee.html#associatedtype.Pointer" title="type wiggle::Pointee::Pointer">Pointer</a>) -&gt; <a class="struct" href="struct.GuestPtr.html" title="struct wiggle::GuestPtr">GuestPtr</a>&lt;'a, T&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,
             T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="trait.Pointee.html" title="trait wiggle::Pointee">Pointee</a></span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.is_shared_memory" class="fn">is_shared_memory</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A trait which abstracts how to get at the region of host memory that
contains guest memory.</p>
<p>All <code>GuestPtr</code> types will contain a handle to this trait, signifying where
the pointer is actually pointing into. This type will need to be implemented
for the host’s memory storage object.</p>
<h2 id="safety"><a href="#safety">Safety</a></h2>
<p>Safety around this type is tricky, and the trait is <code>unsafe</code> since there are
a few contracts you need to uphold to implement this type correctly and have
everything else in this crate work out safely.</p>
<p>The most important method of this trait is the <code>base</code> method. This returns,
in host memory, a pointer and a length. The pointer should point to valid
memory for the guest to read/write for the length contiguous bytes
afterwards.</p>
<p>The region returned by <code>base</code> must not only be valid, however, but it must
be valid for “a period of time before the guest is reentered”. This isn’t
exactly well defined but the general idea is that <code>GuestMemory</code> is allowed
to change under our feet to accommodate instructions like <code>memory.grow</code> or
other guest modifications. Memory, however, cannot be changed if the guest
is not reentered or if no explicitly action is taken to modify the guest
memory.</p>
<p>This provides the guarantee that host pointers based on the return value of
<code>base</code> have a dynamic period for which they are valid. This time duration
must be “somehow nonzero in length” to allow users of <code>GuestMemory</code> and
<code>GuestPtr</code> to safely read and write interior data.</p>
<p>This type also provides methods for run-time borrow checking of references
into the memory. The safety of this mechanism depends on there being exactly
one associated tracking of borrows for a given WebAssembly memory. There
must be no other reads or writes of WebAssembly the memory by either Rust or
WebAssembly code while there are any outstanding borrows, as given by
<code>GuestMemory::has_outstanding_borrows()</code>.</p>
<h2 id="using-references"><a href="#using-references">Using References</a></h2>
<p>The <a href="struct.GuestPtr.html#method.as_slice" title="method wiggle::GuestPtr::as_slice"><code>GuestPtr::as_slice</code></a> or <a href="struct.GuestPtr.html#method.as_str" title="method wiggle::GuestPtr::as_str"><code>GuestPtr::as_str</code></a> will return smart
pointers <a href="struct.GuestSlice.html" title="struct wiggle::GuestSlice"><code>GuestSlice</code></a> and <a href="struct.GuestStr.html" title="struct wiggle::GuestStr"><code>GuestStr</code></a>. These types, which implement
<a href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref"><code>std::ops::Deref</code></a> and <a href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.DerefMut.html" title="trait core::ops::deref::DerefMut"><code>std::ops::DerefMut</code></a>, provide mutable references
into the memory region given by a <code>GuestMemory</code>.</p>
<p>These smart pointers are dynamically borrow-checked by the borrow checker
methods on this trait. While a <code>GuestSlice</code> or a <code>GuestStr</code> are live, the
<a href="trait.GuestMemory.html#tymethod.has_outstanding_borrows" title="method wiggle::GuestMemory::has_outstanding_borrows"><code>GuestMemory::has_outstanding_borrows()</code></a> method will always return <code>true</code>.
If you need to re-enter the guest or otherwise read or write to the contents
of a WebAssembly memory, all <code>GuestSlice</code>s and <code>GuestStr</code>s for the memory
must be dropped, at which point <code>GuestMemory::has_outstanding_borrows()</code>
will return <code>false</code>.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.base" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#102">source</a><h4 class="code-header">fn <a href="#tymethod.base" class="fn">base</a>(&amp;self) -&gt; &amp;[<a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell">UnsafeCell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;]</h4></section></summary><div class="docblock"><p>Returns the base allocation of this guest memory, located in host
memory.</p>
<p>A pointer/length pair are returned to signify where the guest memory
lives in the host, and how many contiguous bytes the memory is valid for
after the returned pointer.</p>
<p>Note that there are safety guarantees about this method that
implementations must uphold, and for more details see the
<a href="trait.GuestMemory.html" title="trait wiggle::GuestMemory"><code>GuestMemory</code></a> documentation.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.has_outstanding_borrows" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#121">source</a><h4 class="code-header">fn <a href="#tymethod.has_outstanding_borrows" class="fn">has_outstanding_borrows</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Indicates whether any outstanding borrows are known to the
<code>GuestMemory</code>. This function must be <code>false</code> in order for it to be
safe to recursively call into a WebAssembly module, or to manipulate
the WebAssembly memory by any other means.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.is_mut_borrowed" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#125">source</a><h4 class="code-header">fn <a href="#tymethod.is_mut_borrowed" class="fn">is_mut_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Check if a region of linear memory is exclusively borrowed. This is called during any
<code>GuestPtr::read</code> or <code>GuestPtr::write</code> operation to ensure that wiggle is not reading or
writing a region of memory which Rust believes it has exclusive access to.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.is_shared_borrowed" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#127">source</a><h4 class="code-header">fn <a href="#tymethod.is_shared_borrowed" class="fn">is_shared_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Check if a region of linear memory has any shared borrows.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.mut_borrow" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#135">source</a><h4 class="code-header">fn <a href="#tymethod.mut_borrow" class="fn">mut_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section></summary><div class="docblock"><p>Exclusively borrow a region of linear memory. This is used when constructing a
<code>GuestSliceMut</code> or <code>GuestStrMut</code>. Those types will give Rust <code>&amp;mut</code> access
to the region of linear memory, therefore, the <code>GuestMemory</code> impl must
guarantee that at most one <code>BorrowHandle</code> is issued to a given region,
<code>GuestMemory::has_outstanding_borrows</code> is true for the duration of the
borrow, and that <code>GuestMemory::is_mut_borrowed</code> of any overlapping region
is false for the duration of the borrow.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.shared_borrow" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#139">source</a><h4 class="code-header">fn <a href="#tymethod.shared_borrow" class="fn">shared_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section></summary><div class="docblock"><p>Shared borrow a region of linear memory. This is used when constructing a
<code>GuestSlice</code> or <code>GuestStr</code>. Those types will give Rust <code>&amp;</code> (shared reference) access
to the region of linear memory.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.mut_unborrow" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#143">source</a><h4 class="code-header">fn <a href="#tymethod.mut_unborrow" class="fn">mut_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section></summary><div class="docblock"><p>Unborrow a previously borrowed mutable region. As long as <code>GuestSliceMut</code> and
<code>GuestStrMut</code> are implemented correctly, a mut <code>BorrowHandle</code> should only be
unborrowed once.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.shared_unborrow" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#147">source</a><h4 class="code-header">fn <a href="#tymethod.shared_unborrow" class="fn">shared_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section></summary><div class="docblock"><p>Unborrow a previously borrowed shared region. As long as <code>GuestSlice</code> and
<code>GuestStr</code> are implemented correctly, a shared <code>BorrowHandle</code> should only be
unborrowed once.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.ptr" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#109-115">source</a><h4 class="code-header">fn <a href="#method.ptr" class="fn">ptr</a>&lt;'a, T&gt;(&amp;'a self, offset: T::<a class="associatedtype" href="trait.Pointee.html#associatedtype.Pointer" title="type wiggle::Pointee::Pointer">Pointer</a>) -&gt; <a class="struct" href="struct.GuestPtr.html" title="struct wiggle::GuestPtr">GuestPtr</a>&lt;'a, T&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="trait.Pointee.html" title="trait wiggle::Pointee">Pointee</a>,</span></h4></section></summary><div class="docblock"><p>Convenience method for creating a <code>GuestPtr</code> at a particular offset.</p>
<p>Note that <code>T</code> can be almost any type, and typically <code>offset</code> is a <code>u32</code>.
The exception is slices and strings, in which case <code>offset</code> is a <code>(u32, u32)</code> of <code>(offset, length)</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_shared_memory" class="method"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#151-153">source</a><h4 class="code-header">fn <a href="#method.is_shared_memory" class="fn">is_shared_memory</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Check if the underlying memory is shared across multiple threads; e.g.,
with a WebAssembly shared memory.</p>
</div></details></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><details class="toggle implementors-toggle"><summary><section id="impl-GuestMemory-for-Box%3CT%3E" class="impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#265-290">source</a><a href="#impl-GuestMemory-for-Box%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="trait.GuestMemory.html" title="trait wiggle::GuestMemory">GuestMemory</a>&gt; <a class="trait" href="trait.GuestMemory.html" title="trait wiggle::GuestMemory">GuestMemory</a> for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><section id="method.base" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#266-268">source</a><a href="#method.base" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.base" class="fn">base</a>(&amp;self) -&gt; &amp;[<a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell">UnsafeCell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;]</h4></section><section id="method.has_outstanding_borrows" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#269-271">source</a><a href="#method.has_outstanding_borrows" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.has_outstanding_borrows" class="fn">has_outstanding_borrows</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_mut_borrowed" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#272-274">source</a><a href="#method.is_mut_borrowed" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.is_mut_borrowed" class="fn">is_mut_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_shared_borrowed" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#275-277">source</a><a href="#method.is_shared_borrowed" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.is_shared_borrowed" class="fn">is_shared_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.mut_borrow" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#278-280">source</a><a href="#method.mut_borrow" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.mut_borrow" class="fn">mut_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section><section id="method.shared_borrow" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#281-283">source</a><a href="#method.shared_borrow" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.shared_borrow" class="fn">shared_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section><section id="method.mut_unborrow" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#284-286">source</a><a href="#method.mut_unborrow" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.mut_unborrow" class="fn">mut_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section><section id="method.shared_unborrow" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#287-289">source</a><a href="#method.shared_unborrow" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.shared_unborrow" class="fn">shared_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-GuestMemory-for-Arc%3CT%3E" class="impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#292-317">source</a><a href="#impl-GuestMemory-for-Arc%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="trait.GuestMemory.html" title="trait wiggle::GuestMemory">GuestMemory</a>&gt; <a class="trait" href="trait.GuestMemory.html" title="trait wiggle::GuestMemory">GuestMemory</a> for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><section id="method.base-1" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#293-295">source</a><a href="#method.base-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.base" class="fn">base</a>(&amp;self) -&gt; &amp;[<a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell">UnsafeCell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;]</h4></section><section id="method.has_outstanding_borrows-1" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#296-298">source</a><a href="#method.has_outstanding_borrows-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.has_outstanding_borrows" class="fn">has_outstanding_borrows</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_mut_borrowed-1" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#299-301">source</a><a href="#method.is_mut_borrowed-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.is_mut_borrowed" class="fn">is_mut_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_shared_borrowed-1" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#302-304">source</a><a href="#method.is_shared_borrowed-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.is_shared_borrowed" class="fn">is_shared_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.mut_borrow-1" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#305-307">source</a><a href="#method.mut_borrow-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.mut_borrow" class="fn">mut_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section><section id="method.shared_borrow-1" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#308-310">source</a><a href="#method.shared_borrow-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.shared_borrow" class="fn">shared_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section><section id="method.mut_unborrow-1" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#311-313">source</a><a href="#method.mut_unborrow-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.mut_unborrow" class="fn">mut_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section><section id="method.shared_unborrow-1" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#314-316">source</a><a href="#method.shared_unborrow-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.shared_unborrow" class="fn">shared_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-GuestMemory-for-%26'a+mut+T" class="impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#238-263">source</a><a href="#impl-GuestMemory-for-%26'a+mut+T" class="anchor">§</a><h3 class="code-header">impl&lt;'a, T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="trait.GuestMemory.html" title="trait wiggle::GuestMemory">GuestMemory</a>&gt; <a class="trait" href="trait.GuestMemory.html" title="trait wiggle::GuestMemory">GuestMemory</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut T</a></h3></section></summary><div class="impl-items"><section id="method.base-2" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#239-241">source</a><a href="#method.base-2" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.base" class="fn">base</a>(&amp;self) -&gt; &amp;[<a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell">UnsafeCell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;]</h4></section><section id="method.has_outstanding_borrows-2" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#242-244">source</a><a href="#method.has_outstanding_borrows-2" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.has_outstanding_borrows" class="fn">has_outstanding_borrows</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_mut_borrowed-2" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#245-247">source</a><a href="#method.is_mut_borrowed-2" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.is_mut_borrowed" class="fn">is_mut_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_shared_borrowed-2" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#248-250">source</a><a href="#method.is_shared_borrowed-2" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.is_shared_borrowed" class="fn">is_shared_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.mut_borrow-2" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#251-253">source</a><a href="#method.mut_borrow-2" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.mut_borrow" class="fn">mut_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section><section id="method.shared_borrow-2" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#254-256">source</a><a href="#method.shared_borrow-2" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.shared_borrow" class="fn">shared_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section><section id="method.mut_unborrow-2" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#257-259">source</a><a href="#method.mut_unborrow-2" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.mut_unborrow" class="fn">mut_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section><section id="method.shared_unborrow-2" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#260-262">source</a><a href="#method.shared_unborrow-2" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.shared_unborrow" class="fn">shared_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-GuestMemory-for-%26'a+T" class="impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#211-236">source</a><a href="#impl-GuestMemory-for-%26'a+T" class="anchor">§</a><h3 class="code-header">impl&lt;'a, T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="trait.GuestMemory.html" title="trait wiggle::GuestMemory">GuestMemory</a>&gt; <a class="trait" href="trait.GuestMemory.html" title="trait wiggle::GuestMemory">GuestMemory</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a T</a></h3></section></summary><div class="impl-items"><section id="method.base-3" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#212-214">source</a><a href="#method.base-3" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.base" class="fn">base</a>(&amp;self) -&gt; &amp;[<a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell">UnsafeCell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;]</h4></section><section id="method.has_outstanding_borrows-3" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#215-217">source</a><a href="#method.has_outstanding_borrows-3" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.has_outstanding_borrows" class="fn">has_outstanding_borrows</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_mut_borrowed-3" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#218-220">source</a><a href="#method.is_mut_borrowed-3" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.is_mut_borrowed" class="fn">is_mut_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_shared_borrowed-3" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#221-223">source</a><a href="#method.is_shared_borrowed-3" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.is_shared_borrowed" class="fn">is_shared_borrowed</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.mut_borrow-3" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#224-226">source</a><a href="#method.mut_borrow-3" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.mut_borrow" class="fn">mut_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section><section id="method.shared_borrow-3" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#227-229">source</a><a href="#method.shared_borrow-3" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.shared_borrow" class="fn">shared_borrow</a>(&amp;self, r: <a class="struct" href="struct.Region.html" title="struct wiggle::Region">Region</a>) -&gt; <a class="type" href="wasmtime_crate/type.Result.html" title="type wiggle::wasmtime_crate::Result">Result</a>&lt;<a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>, <a class="enum" href="enum.GuestError.html" title="enum wiggle::GuestError">GuestError</a>&gt;</h4></section><section id="method.mut_unborrow-3" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#230-232">source</a><a href="#method.mut_unborrow-3" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.mut_unborrow" class="fn">mut_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section><section id="method.shared_unborrow-3" class="method trait-impl"><a class="srclink rightside" href="../src/wiggle/lib.rs.html#233-235">source</a><a href="#method.shared_unborrow-3" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.shared_unborrow" class="fn">shared_unborrow</a>(&amp;self, h: <a class="struct" href="struct.BorrowHandle.html" title="struct wiggle::BorrowHandle">BorrowHandle</a>)</h4></section></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-GuestMemory-for-WasmtimeGuestMemory%3C'_%3E" class="impl"><a class="srclink rightside" href="../src/wiggle/wasmtime.rs.html#53-101">source</a><a href="#impl-GuestMemory-for-WasmtimeGuestMemory%3C'_%3E" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.GuestMemory.html" title="trait wiggle::GuestMemory">GuestMemory</a> for <a class="struct" href="wasmtime/struct.WasmtimeGuestMemory.html" title="struct wiggle::wasmtime::WasmtimeGuestMemory">WasmtimeGuestMemory</a>&lt;'_&gt;</h3></section></div><script src="../implementors/wiggle/trait.GuestMemory.js" data-ignore-extern-crates="alloc" async></script></section></div></main></body></html>